{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web-ZMQSocket\\\\Web-ZQMSocket_Font-end\\\\my-zmqsocket\\\\src\\\\pages\\\\productDetail\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { Button, notification } from \"antd\";\nimport ReactImageGallery from \"react-image-gallery\";\nimport \"react-image-gallery/styles/css/image-gallery.css\";\nimport { formatPrice, URL_API } from \"../../utils/common\";\nimport { useParams } from \"react-router-dom\";\nimport { isNumber } from \"lodash\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductDetail = props => {\n  _s();\n\n  var _data$options;\n\n  const {\n    userId,\n    countProduct,\n    setCountProduct\n  } = props;\n  let {\n    productID\n  } = useParams();\n  const [data, setData] = useState();\n  const [images, setImages] = useState([{\n    original: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-3_2-510x510.jpg\",\n    thumbnail: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-3_2-510x510.jpg\"\n  }, {\n    original: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-4_2.jpg\",\n    thumbnail: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-4_2.jpg\"\n  }, {\n    original: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone-13-pro-max-8_1.jpg\",\n    thumbnail: \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone-13-pro-max-8_1.jpg\"\n  }]);\n\n  const getProduct = () => {\n    axios.get(`${URL_API}/Product/get-product-detail-by-id?id=${productID}`).then(res => {\n      setData(res.data.item);\n    });\n  };\n\n  const addToCart = () => {\n    const payload = {\n      variantId: productID,\n      userId: userId\n    };\n    axios.post(`${URL_API}/CartItem/cart-item`, payload).then(res => {\n      if (res) {\n        setCountProduct(countProduct + 1);\n        notification.success({\n          message: \"Them vào giỏ hàng thành công\"\n        });\n      }\n    }).then(() => {\n      window.location.reload();\n    });\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, []);\n  useEffect(() => {\n    console.log(countProduct);\n\n    if (isNumber(countProduct)) {\n      setCountProduct(localStorage.setItem(\"COUNT_PRODUCT\", countProduct));\n    }\n  }, [countProduct]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: 5,\n        children: /*#__PURE__*/_jsxDEV(ReactImageGallery, {\n          items: images\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 7,\n        className: \"float-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ms-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"fw-bold float-start w-100\",\n            children: data === null || data === void 0 ? void 0 : data.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ms-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"fw-bold float-start text-danger w-100\",\n            children: formatPrice(data === null || data === void 0 ? void 0 : data.price)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ms-5\",\n          children: data === null || data === void 0 ? void 0 : (_data$options = data.options) === null || _data$options === void 0 ? void 0 : _data$options.map(x => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [x.optionName, \": \", x.optionValue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ms-5 mt-2\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"large\",\n            type: \"primary\",\n            onClick: addToCart,\n            children: \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductDetail, \"b8nO45GGVrW0Q25vLyd78G624Fk=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["axios","useEffect","useState","Col","Row","Button","notification","ReactImageGallery","formatPrice","URL_API","useParams","isNumber","ProductDetail","props","userId","countProduct","setCountProduct","productID","data","setData","images","setImages","original","thumbnail","getProduct","get","then","res","item","addToCart","payload","variantId","post","success","message","window","location","reload","console","log","localStorage","setItem","productName","price","options","map","x","optionName","optionValue"],"sources":["C:/Web-ZMQSocket/Web-ZQMSocket_Font-end/my-zmqsocket/src/pages/productDetail/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { Button, notification } from \"antd\";\r\nimport ReactImageGallery from \"react-image-gallery\";\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport { formatPrice, URL_API } from \"../../utils/common\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { isNumber } from \"lodash\";\r\n\r\nexport const ProductDetail = (props) => {\r\n  const { userId, countProduct, setCountProduct } = props;\r\n  let { productID } = useParams();\r\n  const [data, setData] = useState();\r\n  const [images, setImages] = useState([\r\n    {\r\n      original:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-3_2-510x510.jpg\",\r\n      thumbnail:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-3_2-510x510.jpg\",\r\n    },\r\n    {\r\n      original:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-4_2.jpg\",\r\n      thumbnail:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone_13-_pro-4_2.jpg\",\r\n    },\r\n    {\r\n      original:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone-13-pro-max-8_1.jpg\",\r\n      thumbnail:\r\n        \"http://dienthoai5.giaodienwebmau.com/wp-content/uploads/2021/11/iphone-13-pro-max-8_1.jpg\",\r\n    },\r\n  ]);\r\n\r\n  const getProduct = () => {\r\n    axios\r\n      .get(`${URL_API}/Product/get-product-detail-by-id?id=${productID}`)\r\n      .then((res) => {\r\n        setData(res.data.item);\r\n      });\r\n  };\r\n\r\n  const addToCart = () => {\r\n    const payload = {\r\n      variantId: productID,\r\n      userId: userId,\r\n    };\r\n    axios.post(`${URL_API}/CartItem/cart-item`, payload).then((res) => {\r\n      if (res) {\r\n        setCountProduct(countProduct + 1);\r\n        notification.success({\r\n          message: \"Them vào giỏ hàng thành công\",\r\n        });\r\n      }\r\n    }).then(() => {\r\n      window.location.reload();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProduct();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(countProduct);\r\n    if (isNumber(countProduct)) {\r\n      setCountProduct(localStorage.setItem(\"COUNT_PRODUCT\", countProduct));\r\n    }\r\n  }, [countProduct]);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <Row>\r\n        <Col sm={5}>\r\n          <ReactImageGallery items={images} />\r\n        </Col>\r\n        <Col sm={7} className=\"float-start\">\r\n          <div className=\"ms-5\">\r\n            <h4 className=\"fw-bold float-start w-100\">{data?.productName}</h4>\r\n          </div>\r\n          <div className=\"ms-5\">\r\n            <h4 className=\"fw-bold float-start text-danger w-100\">\r\n              {formatPrice(data?.price)}\r\n            </h4>\r\n          </div>\r\n          <div className=\"ms-5\">\r\n            {data?.options?.map((x) => (\r\n              <div>\r\n                {x.optionName}: {x.optionValue}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"ms-5 mt-2\">\r\n            <Button size=\"large\" type=\"primary\" onClick={addToCart}>\r\n              Thêm vào giỏ hàng\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,iBAAzB;AACA,SAASC,MAAT,EAAiBC,YAAjB,QAAqC,MAArC;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAO,kDAAP;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,oBAArC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,QAAT,QAAyB,QAAzB;;AAEA,OAAO,MAAMC,aAAa,GAAIC,KAAD,IAAW;EAAA;;EAAA;;EACtC,MAAM;IAAEC,MAAF;IAAUC,YAAV;IAAwBC;EAAxB,IAA4CH,KAAlD;EACA,IAAI;IAAEI;EAAF,IAAgBP,SAAS,EAA7B;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,EAAhC;EACA,MAAM,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,CACnC;IACEoB,QAAQ,EACN,gGAFJ;IAGEC,SAAS,EACP;EAJJ,CADmC,EAOnC;IACED,QAAQ,EACN,wFAFJ;IAGEC,SAAS,EACP;EAJJ,CAPmC,EAanC;IACED,QAAQ,EACN,2FAFJ;IAGEC,SAAS,EACP;EAJJ,CAbmC,CAAD,CAApC;;EAqBA,MAAMC,UAAU,GAAG,MAAM;IACvBxB,KAAK,CACFyB,GADH,CACQ,GAAEhB,OAAQ,wCAAuCQ,SAAU,EADnE,EAEGS,IAFH,CAESC,GAAD,IAAS;MACbR,OAAO,CAACQ,GAAG,CAACT,IAAJ,CAASU,IAAV,CAAP;IACD,CAJH;EAKD,CAND;;EAQA,MAAMC,SAAS,GAAG,MAAM;IACtB,MAAMC,OAAO,GAAG;MACdC,SAAS,EAAEd,SADG;MAEdH,MAAM,EAAEA;IAFM,CAAhB;IAIAd,KAAK,CAACgC,IAAN,CAAY,GAAEvB,OAAQ,qBAAtB,EAA4CqB,OAA5C,EAAqDJ,IAArD,CAA2DC,GAAD,IAAS;MACjE,IAAIA,GAAJ,EAAS;QACPX,eAAe,CAACD,YAAY,GAAG,CAAhB,CAAf;QACAT,YAAY,CAAC2B,OAAb,CAAqB;UACnBC,OAAO,EAAE;QADU,CAArB;MAGD;IACF,CAPD,EAOGR,IAPH,CAOQ,MAAM;MACZS,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACD,CATD;EAUD,CAfD;;EAiBApC,SAAS,CAAC,MAAM;IACduB,UAAU;EACX,CAFQ,EAEN,EAFM,CAAT;EAIAvB,SAAS,CAAC,MAAM;IACdqC,OAAO,CAACC,GAAR,CAAYxB,YAAZ;;IACA,IAAIJ,QAAQ,CAACI,YAAD,CAAZ,EAA4B;MAC1BC,eAAe,CAACwB,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC1B,YAAtC,CAAD,CAAf;IACD;EACF,CALQ,EAKN,CAACA,YAAD,CALM,CAAT;EAOA,oBACE;IAAK,SAAS,EAAC,gBAAf;IAAA,uBACE,QAAC,GAAD;MAAA,wBACE,QAAC,GAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,QAAC,iBAAD;UAAmB,KAAK,EAAEK;QAA1B;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,GAAD;QAAK,EAAE,EAAE,CAAT;QAAY,SAAS,EAAC,aAAtB;QAAA,wBACE;UAAK,SAAS,EAAC,MAAf;UAAA,uBACE;YAAI,SAAS,EAAC,2BAAd;YAAA,UAA2CF,IAA3C,aAA2CA,IAA3C,uBAA2CA,IAAI,CAAEwB;UAAjD;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE;UAAK,SAAS,EAAC,MAAf;UAAA,uBACE;YAAI,SAAS,EAAC,uCAAd;YAAA,UACGlC,WAAW,CAACU,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEyB,KAAP;UADd;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF,eASE;UAAK,SAAS,EAAC,MAAf;UAAA,UACGzB,IADH,aACGA,IADH,wCACGA,IAAI,CAAE0B,OADT,kDACG,cAAeC,GAAf,CAAoBC,CAAD,iBAClB;YAAA,WACGA,CAAC,CAACC,UADL,QACmBD,CAAC,CAACE,WADrB;UAAA;YAAA;YAAA;YAAA;UAAA,QADD;QADH;UAAA;UAAA;UAAA;QAAA,QATF,eAgBE;UAAK,SAAS,EAAC,WAAf;UAAA,uBACE,QAAC,MAAD;YAAQ,IAAI,EAAC,OAAb;YAAqB,IAAI,EAAC,SAA1B;YAAoC,OAAO,EAAEnB,SAA7C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAhBF;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AA+BD,CA5FM;;GAAMjB,a;UAESF,S;;;KAFTE,a"},"metadata":{},"sourceType":"module"}